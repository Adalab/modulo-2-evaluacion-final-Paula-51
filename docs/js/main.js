const o=document.querySelector(".js-tarjetas"),f="https://raw.githubusercontent.com/Adalab/resources/master/apis/products.json",b=document.querySelector(".js-find-input"),L=document.querySelector(".js-find-btn"),E=document.querySelector(".js-carrito");let s=[],r=[];function d(t,e){e.innerHTML="",t.forEach(n=>{const i=document.createElement("div");i.classList.add("producto");const c=document.createElement("img");c.src=n.image,c.alt=n.title,c.classList.add("imagen");const u=document.createElement("h3");u.textContent=n.title;const p=document.createElement("div");p.classList.add("buy");const m=document.createElement("p");m.textContent=n.price+" â‚¬";const a=document.createElement("button"),g=r.some(h=>h.title===n.title);a.textContent=g?"Eliminar":"Comprar",a.classList.add("btn-comprar"),g&&a.classList.add("btn-en-carrito"),a.setAttribute("data-id",n.id),p.append(m,a),i.append(c,u,p),e.appendChild(i)})}function l(){const t=document.querySelector(".js-carrito");t.innerHTML="",r.length===0?t.innerHTML="<p>El carrito estÃ¡ vacÃ­o ðŸ›’</p>":r.forEach((e,n)=>{const i=document.createElement("div");i.classList.add("cart-item"),i.innerHTML=`
        <img src="${e.image}" alt="${e.title}" class="cart-item-image" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px; margin-right: 10px;">
        <p>${e.title}</p>
        <p>â‚¬${e.price}</p>
        <button class="btn-delete" id="${n}" style="font-size: 18px; font-weight: bold; background: none; border: none; cursor: pointer;">âœ–</button>
      `,t.appendChild(i)})}function C(t){o.innerHTML="",t.preventDefault();const e=b.value.toLowerCase().trim(),n=s.filter(i=>i.title.toLowerCase().trim().includes(e));d(n,o)}fetch(f).then(t=>t.json()).then(t=>{s=t;const e=localStorage.getItem("shoppingBag");e&&(r=JSON.parse(e)),d(s,o),l()}).catch(t=>{console.error("Error fetching data:",t)});L.addEventListener("click",C);o.addEventListener("click",t=>{if(t.target.classList.contains("btn-comprar")){const e=parseInt(t.target.getAttribute("data-id")),n=s.find(c=>c.id===e);r.some(c=>c.id===e)?r=r.filter(c=>c.id!==e):r.push(n),localStorage.setItem("shoppingBag",JSON.stringify(r)),l(),d(s,o)}});E.addEventListener("click",t=>{if(t.target.classList.contains("btn-delete")){const e=t.target.getAttribute("id");r.splice(e,1),localStorage.setItem("shoppingBag",JSON.stringify(r)),l(),d(s,o)}});document.querySelector(".btn-vaciar-carrito").addEventListener("click",()=>{r=[],localStorage.removeItem("shoppingBag"),l(),d(s,o)});
//# sourceMappingURL=main.js.map
