const r=document.querySelector(".js-tarjetas"),L="https://raw.githubusercontent.com/Adalab/resources/master/apis/products.json",C=document.querySelector(".js-find-input"),E=document.querySelector(".js-find-btn"),f=document.querySelector(".js-carrito");let s=[],c=[];function l(t,e){e.innerHTML="",t.forEach(a=>{const n=document.createElement("div");n.classList.add("producto");const i=document.createElement("img");i.src=a.image,i.alt=a.title,i.classList.add("imagen");const o=document.createElement("h3");o.textContent=a.title;const m=document.createElement("div");m.classList.add("buy");const g=document.createElement("p");g.textContent="Cantidad: ";const d=document.createElement("input");d.type="number",d.value=1,d.min=1,d.classList.add("js-quantity-input"),d.setAttribute("data-id",a.id),g.appendChild(d),m.appendChild(g);const h=document.createElement("p");h.textContent=a.price+" â‚¬";const u=document.createElement("button"),y=c.some(b=>b.title===a.title);u.textContent=y?"Eliminar":"Comprar",u.classList.add("btn-comprar"),y&&u.classList.add("btn-en-carrito"),u.setAttribute("data-id",a.id),m.append(h,u),n.append(i,o,m),e.appendChild(n)})}function p(){const t=document.querySelector(".js-carrito");if(t.innerHTML="",c.length===0)t.innerHTML="<p>El carrito estÃ¡ vacÃ­o ðŸ›’</p>";else{c.forEach((n,i)=>{const o=document.createElement("div");o.classList.add("cart-item"),o.innerHTML=`
        <div class="cart-item-details">
        <img src="${n.image}" alt="${n.title}" class="cart-item-image" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px; margin-right: 10px;">
        <p>${n.title}</p></div>
        <div class="cart-item-quantity"> 
        <input type="number" value="${n.quantity}" id="${n.id}" min="1" class="js-cart-quantity cart-quantity"></input>
        <p class="item-price">${n.price*n.quantity} â‚¬</p>
        <button class="btn-delete" id="${i}" style="font-size: 18px; font-weight: bold; background: none; border: none; cursor: pointer;">âœ–</button></div>
      `,t.appendChild(o)});const e=document.createElement("p");e.classList.add("js-total-value","total-value");const a=c.reduce((n,i)=>n+i.price*i.quantity,0);e.textContent=`Total: ${a} â‚¬`,t.appendChild(e)}}function v(t){r.innerHTML="",t.preventDefault();const e=C.value.toLowerCase().trim(),a=s.filter(n=>n.title.toLowerCase().trim().includes(e));l(a,r)}fetch(L).then(t=>t.json()).then(t=>{s=t;const e=localStorage.getItem("shoppingBag");e&&(c=JSON.parse(e)),l(s,r),p()}).catch(t=>{console.error("Error fetching data:",t)});E.addEventListener("click",v);r.addEventListener("click",t=>{if(t.target.classList.contains("btn-comprar")){const e=parseInt(t.target.getAttribute("data-id")),a=s.find(i=>i.id===e);c.some(i=>i.id===e)?c=c.filter(i=>i.id!==e):(a.quantity=t.target.parentElement.querySelector(".js-quantity-input").value,c.push(a)),localStorage.setItem("shoppingBag",JSON.stringify(c)),p(),l(s,r)}});f.addEventListener("click",t=>{if(t.target.classList.contains("btn-delete")){const e=t.target.getAttribute("id");c.splice(e,1),localStorage.setItem("shoppingBag",JSON.stringify(c)),p(),l(s,r)}});f.addEventListener("change",t=>{if(t.target.classList.contains("cart-quantity")){const e=parseInt(t.target.getAttribute("id")),a=parseInt(t.target.value),n=c.find(i=>i.id===e);n&&(n.quantity=a),localStorage.setItem("shoppingBag",JSON.stringify(c)),p(),l(s,r)}});document.querySelector(".btn-vaciar-carrito").addEventListener("click",()=>{c=[],localStorage.removeItem("shoppingBag"),p(),l(s,r)});
//# sourceMappingURL=main.js.map
