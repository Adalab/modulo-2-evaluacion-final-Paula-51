const o=document.querySelector(".js-tarjetas"),f="https://raw.githubusercontent.com/Adalab/resources/master/apis/products.json",b=document.querySelector(".js-find-input"),L=document.querySelector(".js-find-btn"),E=document.querySelector(".js-carrito");let s=[],i=[];function l(t,e){e.innerHTML="",t.forEach(n=>{const r=document.createElement("div");r.classList.add("producto");const c=document.createElement("img");c.src=n.image,c.alt=n.title,c.classList.add("imagen");const u=document.createElement("h3");u.textContent=n.title;const p=document.createElement("div");p.classList.add("buy");const m=document.createElement("p");m.textContent=n.price+" â‚¬";const a=document.createElement("button"),g=i.some(h=>h.title===n.title);a.textContent=g?"Eliminar":"Comprar",a.classList.add("btn-comprar"),g&&a.classList.add("btn-en-carrito"),a.setAttribute("data-title",n.title),p.append(m,a),r.append(c,u,p),e.appendChild(r)})}function d(){const t=document.querySelector(".js-carrito");t.innerHTML="",i.length===0?t.innerHTML="<p>El carrito estÃ¡ vacÃ­o ðŸ›’</p>":i.forEach((e,n)=>{const r=document.createElement("div");r.classList.add("cart-item"),r.innerHTML=`
        <img src="${e.image}" alt="${e.title}" class="cart-item-image" style="width: 50px; height: 50px; object-fit: cover; border-radius: 5px; margin-right: 10px;">
        <p>${e.title}</p>
        <p>â‚¬${e.price}</p>
        <button class="btn-delete" id="${n}" style="font-size: 18px; font-weight: bold; background: none; border: none; cursor: pointer;">âœ–</button>
      `,t.appendChild(r)})}function C(t){o.innerHTML="",t.preventDefault();const e=b.value.toLowerCase().trim(),n=s.filter(r=>r.title.toLowerCase().trim().includes(e));l(n,o)}fetch(f).then(t=>t.json()).then(t=>{s=t;const e=localStorage.getItem("shoppingBag");e&&(i=JSON.parse(e)),l(s,o),d()}).catch(t=>{console.error("Error fetching data:",t)});L.addEventListener("click",C);o.addEventListener("click",t=>{if(t.target.classList.contains("btn-comprar")){const e=t.target.getAttribute("data-title"),n=s.find(c=>c.title===e);i.some(c=>c.title===e)?i=i.filter(c=>c.title!==e):i.push(n),localStorage.setItem("shoppingBag",JSON.stringify(i)),d(),l(s,o)}});E.addEventListener("click",t=>{if(t.target.classList.contains("btn-delete")){const e=t.target.getAttribute("id");i.splice(e,1),localStorage.setItem("shoppingBag",JSON.stringify(i)),d(),l(s,o)}});document.querySelector(".btn-vaciar-carrito").addEventListener("click",()=>{i=[],localStorage.removeItem("shoppingBag"),d(),l(s,o)});
//# sourceMappingURL=main.js.map
